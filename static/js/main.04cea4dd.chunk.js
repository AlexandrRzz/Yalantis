(this.webpackJsonpemployees=this.webpackJsonpemployees||[]).push([[0],{19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),s=n(11),o=n.n(s),i=(n(19),n(3)),u=n(2),l=n(8),j=n.n(l),b=a.a.createContext(null),d=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(u.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(function(){var e=[],t=j.a.get("employees");return t&&(e=JSON.parse(t)),e}()),l=Object(u.a)(i,2),d=l[0],h=l[1],p=Object(r.useState)(!0),m=Object(u.a)(p,2),f={employees:[s,o],selected:[d,h],loading:[m[0],m[1]]};return Object(c.jsx)(b.Provider,{value:f,children:t})},h=n(5),p=n.n(h),m=n(10),f=n(12),O=n(13),y=function(){function e(){Object(f.a)(this,e),this._apiBase="https://yalantis-react-school-api.yalantis.com/api"}return Object(O.a)(e,[{key:"getResource",value:function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", recived ").concat(n.status," "));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEmployees",value:function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getResource("/task0/users"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();n(21);function v(e){var t=e.header,n=e.employeList,a=void 0===n?[]:n,s=Object(r.useContext)(b),o=Object(u.a)(s.selected,2),l=o[0],d=o[1];Object(r.useEffect)((function(){j.a.set("employees",JSON.stringify(l))}),[l]);var h;return Object(c.jsxs)("div",{className:"employeesCard",children:[Object(c.jsx)("h3",{children:t}),Object(c.jsx)("ul",{className:"employeesCard__items",children:(h=a,0===h.length?Object(c.jsx)("li",{children:"---"}):h.map((function(e){var t=e.id,n=e.firstName,r=e.lastName;return Object(c.jsxs)("li",{children:[r," ",n,Object(c.jsx)("input",{type:"checkbox",checked:l.indexOf(t)>=0,onChange:function(){return function(e){d((function(t){var n=t.indexOf(e);return n>=0?[].concat(Object(i.a)(t.slice(0,n)),Object(i.a)(t.slice(n+1))):[].concat(Object(i.a)(t),[e])}))}(t)}})]},t)})))})]})}n(22);function x(e){e.togleEmploye;for(var t=Object(r.useContext)(b),n=Object(u.a)(t.employees,1)[0],a=n.reduce((function(e,t){var n=t.lastName[0];return e[n]?e[n].push(t):e[n]=[t],e}),{}),s=[],o=65;o<91;o++){var i=String.fromCharCode(o);s.push(Object(c.jsx)(v,{header:i,employeList:a[i]},i))}return Object(c.jsxs)("div",{className:"employeesCards",children:[Object(c.jsx)("h2",{children:"\u200bEmployees"}),Object(c.jsx)("div",{className:"employeesCards__cards",children:s})]})}var g=n(6);function N(e){var t,n=e.header,r=e.employeList,a=void 0===r?[]:r;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:n}),Object(c.jsx)("ul",{children:(t=a,0===t.length?Object(c.jsx)("li",{children:"---"}):t.map((function(e){var t=e.id,n=e.firstName,r=e.lastName,a=e.dob;return Object(c.jsxs)("li",{children:[r," ",n," - ",a]},t)})))})]})}n(23);var C=["January","February","March","April","May","June","July","August","September","October","November","December"];function k(e){var t=e.getDate(),n=C[e.getMonth()],c=e.getFullYear();return"".concat(t," ").concat(n,", ").concat(c," year")}function w(){var e,t=Object(r.useContext)(b),n=Object(u.a)(t.employees,1)[0],a=Object(u.a)(t.selected,1)[0],s=Object(c.jsx)("h3",{children:"No selected employees"});a.length>0&&(s=(e=function(e,t){var n=[];return e.forEach((function(e){var c=t.findIndex((function(t){return t.id===e}));if(c>=0){var r=t[c],a=new Date(r.dob),s=a.getMonth(),o=n.find((function(e){return e.month===s})),i=Object(g.a)(Object(g.a)({},r),{},{dob:k(a)});o?o.employees.push(i):n.push({month:s,employees:[i]})}})),n}(a,n),Object(i.a)(e.sort((function(e,t){return e.month-t.month}))).map((function(e){return Object(g.a)(Object(g.a)({},e),{},{employees:e.employees.sort((function(e,t){return e.lastName>t.lastName?1:-1}))})}))).map((function(e){return Object(c.jsx)(N,{header:C[e.month],employeList:e.employees},e.month)})));return Object(c.jsxs)("div",{className:"selectedEmployeesCards",children:[Object(c.jsx)("h2",{children:"\u200bEmployees birthday"}),s]})}n(24);function E(){var e=Object(r.useContext)(b),t=Object(u.a)(e.employees,2)[1],n=Object(u.a)(e.loading,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){(new y).getEmployees().then((function(e){var n=Object(i.a)(e).sort((function(e,t){return e.lastName>t.lastName?1:-1}));t(n),s(!1)}))}),[]),Object(c.jsx)("div",{className:"employees",children:a?Object(c.jsx)("p",{children:"Loading..."}):Object(c.jsxs)("div",{className:"employees__wrapper",children:[Object(c.jsx)(x,{}),Object(c.jsx)(w,{})]})})}var S=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(E,{})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(d,{children:Object(c.jsx)(S,{})})}),document.getElementById("root")),_()}},[[25,1,2]]]);
//# sourceMappingURL=main.04cea4dd.chunk.js.map